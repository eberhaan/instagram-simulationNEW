<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Bild auswählen — Instagram Simulation</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#fafafa}
.container{max-width:720px}
.choice{width:46%; max-width:260px; height:220px; object-fit:cover; border-radius:10px; margin:6px; cursor:pointer; border:3px solid transparent}
.choice.selected{border-color:#0d6efd}
.header{margin:18px 0}
@media (min-width:768px){ .choice { width:220px; height:220px; } }
</style>
</head>
<body>
<div class="container mt-3 text-center">
  <h3 id="headline" class="header">Bild auswählen</h3>
  <div id="images" class="d-flex flex-wrap justify-content-center"></div>
  <div class="d-grid mt-3">
    <button id="btnNext" class="btn btn-primary">Weiter</button>
  </div>
</div>

<script>
const params = new URLSearchParams(location.search);
const p = params.get('p') || '1'; // 1=selfies, 2=neutral
const c = params.get('c') || 'i';

// === Bilderlisten: passe an Deine images/ Dateien an ===
const imagesSelf = [
  "images/self_1.png",
  "images/self_2.png",
  "images/self_3.png",
  "images/self_4.png"
];
const imagesNeutral = [
  "images/neutral_1.png",
  "images/neutral_2.png",
  "images/neutral_3.png"
];

const imgs = (p==='1') ? imagesSelf : imagesNeutral;
document.getElementById('headline').innerText = (p==='1')
  ? "Bitte wähle das Bild, das dir am ähnlichsten sieht."
  : "Bitte wähle das Bild, das dir am besten gefällt.";

let chosen = imgs[0];
const holder = document.getElementById('images');
imgs.forEach((src, i)=>{
  const img = document.createElement('img');
  img.src = src;
  img.className = 'choice' + (i===0? ' selected':'');
  img.alt = 'Bild '+(i+1);
  img.onclick = ()=>{
    chosen = src;
    document.querySelectorAll('.choice').forEach(x=>x.classList.remove('selected'));
    img.classList.add('selected');
  };
  holder.appendChild(img);
});

document.getElementById('btnNext').addEventListener('click', ()=>{
  localStorage.setItem('sim_chosen_image', chosen);
  // weiter zu post (Caption) und übergebe p,c per URL
  location.href = `post.html?p=${encodeURIComponent(p)}&c=${encodeURIComponent(c)}`;
});
</script>
</body>
</html>
