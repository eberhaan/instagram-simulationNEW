<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Caption schreiben — Instagram Simulation</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>body{font-family:Arial,Helvetica,sans-serif;background:#fafafa}.container{max-width:720px}.preview{width:100%;max-width:360px;border-radius:10px;margin:10px auto;display:block}</style>
</head>
<body>
<div class="container mt-3 text-center">
  <h3>Schreibe eine Caption für deinen Post</h3>
  <img id="preview" class="preview" alt="Vorschau">
  <textarea id="caption" class="form-control" rows="3" placeholder="Deine Caption..."></textarea>
  <div class="d-grid mt-3">
    <button id="btnPost" class="btn btn-primary">Posten</button>
  </div>
</div>

<script>
document.getElementById('preview').src = localStorage.getItem('sim_chosen_image') || 'images/self_1.png';
document.getElementById('caption').value = localStorage.getItem('sim_caption') || '';

document.getElementById('btnPost').addEventListener('click', ()=>{
  const caption = document.getElementById('caption').value || '';
  localStorage.setItem('sim_caption', caption);
  // Weiter zu feed mit Param p,c übernehmen
  const params = new URLSearchParams(location.search);
  const p = params.get('p') || '1';
  const c = params.get('c') || 'i';
  location.href = `feed.html?p=${encodeURIComponent(p)}&c=${encodeURIComponent(c)}`;
});
</script>
</body>
</html>
