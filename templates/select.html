<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>Bild auswählen</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
img { 
    width:200px; 
    height:200px; 
    object-fit:cover; 
    border-radius:10px; 
    margin:5px; 
    cursor:pointer; 
    border:2px solid transparent; 
}
img.selected { 
    border-color:#007bff; 
}
</style>
</head>
<body>
<div class="container mt-5">
  <h3>
    {% if pic_mode == '1' %}
      Bitte wähle das Bild, das dir am ähnlichsten sieht.
    {% else %}
      Bitte wähle das Bild, das dir am besten gefällt.
    {% endif %}
  </h3>

  <!-- Alle Parameter in Action erhalten -->
  <form method="POST" action="/select?p={{ p }}&c={{ c }}&username={{ username }}&profilepic={{ profilepic }}">
    <input type="hidden" name="chosen_image" id="chosen_image">
    <div class="d-flex flex-wrap">
      {% for img in images %}
        <img src="{{ url_for('static', filename='images/' + img) }}" onclick="selectImage(this,'{{ img }}')">
      {% endfor %}
    </div>
    <button class="btn btn-primary mt-3">Weiter</button>
  </form>
</div>
<script>
function selectImage(el,name){
    document.getElementById('chosen_image').value = name;
    document.querySelectorAll('img').forEach(i => i.classList.remove('selected'));
    el.classList.add('selected');
}
</script>
</body>
</html>

